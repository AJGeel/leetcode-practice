var $jscomp={scope:{},checkStringArgs:function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");
var stream=document.querySelector(".stream"),imgStream={images:[],captions:[],endpoint:{pre:"https://www.reddit.com/r/",subreddit:"aww",response:"/top/.json?t=",time:"all",url:""}};function fetchGET(a){fetch(a).then(function(a){return a.json()}).then(function(a){parseData(a);appendImages();console.log("Fetch request done.")})}
function parseData(a){for(i=0;i<a.data.children.length;i++){var b=a.data.children[i].data;b.url_overridden_by_dest.includes(".jpg")&&(imgStream.images.push(b.url_overridden_by_dest),imgStream.captions.push(b.title))}}
function appendImages(){for(i=0;i<imgStream.images.length;i++)stream.insertAdjacentHTML("beforeend",'\n      <div class="stream__image">\n          <img src="'+imgStream.images[i]+'" width="400" height="400" loading="lazy"  alt="placeholder image">\n          <p class="stream__caption">'+imgStream.captions[i]+"</p>\n        </div>\n    ")}
function updateEndpoint(a,b){"subreddit"===a?imgStream.endpoint.subreddit=b:"time"===a&&(imgStream.endpoint.time=b);updateFullUrl();fetchGET(imgStream.endpoint.url)}function updateFullUrl(){var a=imgStream.endpoint;a.url=a.pre+a.subreddit+a.response+a.time}updateFullUrl();fetchGET(imgStream.endpoint.url);
